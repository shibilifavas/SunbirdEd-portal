<div class="bs-1 sbt-header sbt-fluid-header-bg com-header">
  <div class="ui container">
    <!--Header section-->
    <header>
      <div class="sb-g head-container">
        <div class="sbt-header-logo" [ngClass]="{'sb-g-col-xs-3 sb-g-col-md-3 sb-g-col-lg-3': userService.loggedIn && !isAdminPortal,'sb-g-col-xs-6 sb-g-col-md-6 sb-g-col-lg-6': isAdminPortal || !userService.loggedIn}">
          <div [ngClass]="userService.loggedIn ? '' : 'flex-jc-flex-start'"
            class="d-flex flex-ai-center w-100">
            <!--Logo-->
            <a *ngIf="tenantInfo" class="logo sbt-logo" tabindex="0" title="Compass" role="link" aria-label="Navigate to Homepage">
              <img (click)="navigateToHomepage()" id="compass-logo" class="cursor-pointer" alt={{tenantInfo.titleName}}
                src="{{tenantInfo.logo}}">
            </a>
            <ng-container *ngIf="userService.loggedIn && !isAdminPortal">
              <!-- menu -->
              <div class="spaces-icon mx-60">
                <div class="menu-trigger" [matMenuTriggerFor]="menu">
                  <mat-icon class="menuIcon open">menu</mat-icon>
                  <mat-icon class="close" >close</mat-icon>
                  <span class="mx-10">Spaces</span>
                </div>
                  <mat-menu #menu="matMenu" yPosition="below" [hasBackdrop]="true">
                    <app-mega-menu (navigateToHome)="navigateToHomepage()"></app-mega-menu>
                      <!-- <div class="container ui" (click)="$event.stopPropagation();">
                        <h3 class="	sub-heading-mobile" (click)="$event.stopPropagation();">Spaces</h3> 
                        <ul class="list" (click)="$event.stopPropagation();">
                            <li>
                                <button (click)="navigateToHomepage()" mat-menu-item>
                                    <mat-icon>school</mat-icon>
                                     <div class="display">
                                        <h3 class="	sub-heading-two">Learn</h3>
                                        <p>Discription Learn</p>
                                     </div>
                                </button>
                            </li>
                            <li>
                                <button (click)="navigateToHomepage()" mat-menu-item>
                                  <mat-icon>forum</mat-icon>
                                  <div class="display">
                                    <h3 class="	sub-heading-two"> Discussion forum</h3>
                                    <p>Discription Discussion forum</p>
                                </div>
                                </button>
                            </li>
                        </ul>
                        <h3 class="	sub-heading-mobile" (click)="$event.stopPropagation();">Others</h3>
                        <ul class="list" (click)="$event.stopPropagation();">
                          <li>
                            <button (click)="navigateToHomepage()" mat-menu-item>
                              <mat-icon>school</mat-icon>
                               <div class="display">
                                  <h3 class="	sub-heading-two">Taxonomy Editor</h3>
                                  <p>As Admin can add terms into framework categories.</p>
                               </div>
                          </button>
                          </li>
                        </ul>
                      </div> -->
                    </mat-menu>
              </div>
            </ng-container>
            <ng-container *ngIf="userService.loggedIn && isAdminPortal">
              <div class="sub-heading-one admin-portal-title">Admin Portal</div>
            </ng-container>
            <!--/Logo-->
          </div>

        </div>
        <div *ngIf="userService.loggedIn && !isAdminPortal" class="sb-g-col-xs-6 sb-g-col-md-6 sb-g-col-lg-6 sbt-header-logo">
          <!--  -->
          <div class="ui center aligned container search-container">  
            <div class="ui input">
              <img src="assets/images/search_icon.svg" class="search-left-icon"/>
              <input type="text" id="header-search" name="search" [(ngModel)]="searchText" (keyup.enter)="searchCourses(searchText)" placeholder={{resourceService.frmelmnts?.prmpt?.search}}>
              <img src="assets/images/manage-search.svg" class="search-right-icon pointing" (click)="searchCourses(searchText)"/>
            </div>
          </div>
        </div>
        <div class="sbt-header-tool-bar" [ngClass]="{'sb-g-col-xs-3 sb-g-col-md-3 sb-g-col-lg-3': userService.loggedIn && !isAdminPortal,'sb-g-col-xs-6 sb-g-col-md-6 sb-g-col-lg-6': isAdminPortal || !userService.loggedIn}">
          <div class="d-flex flex-ai-center">
            <a *ngIf="userService.loggedIn" [routerLink]="['/resources']" class="header-icon__home mr-2">
              <mat-icon>home</mat-icon>
            </a>
            <!-- <a *ngIf="userService.loggedIn" class="header-icon__notification mr-2">
              <mat-icon>notifications</mat-icon>
            </a> -->
            <a class="profile-avtar p-0 mr-8">
              <app-in-app-notification *ngIf="userService?.loggedIn" [layoutConfiguration]="layoutConfiguration">
              </app-in-app-notification>
            </a>
            <div class="language-dd mr-2" *ngIf="!(deviceDetectorService.isMobile() || deviceDetectorService.isTablet())">
              <app-language-dropdown [layoutConfiguration]="layoutConfiguration" [languageRange]='languages'
                *ngIf=" isLanguageDropdown && languages && showLanguageDropdown()">
              </app-language-dropdown>
            </div>
            <div class="compass-entrymenu m-0 d-flex flex-ai-center" role="navigation">
              <ng-container *ngIf="!userService.loggedIn">
                <a aria-current="page" tabindex="0" (click)="clearCache()" href={{hrefPath}} appOnlineOnly
                  class="com-secondary-btn" appTelemetryInteract [telemetryInteractEdata]="signInIntractEdata">
                  {{resourceService.frmelmnts?.btn?.login}}
                </a>
                <a aria-current="page" tabindex="1" href="/signup"   class="com-primary-btn" appTelemetryInteract
                  [telemetryInteractEdata]="signUpInteractEdata">
                  {{resourceService.frmelmnts?.lbl?.register}}
                </a>
              </ng-container>
              <ng-container *ngIf="userService.loggedIn">
                <a class="p-0 ml-16">
                  <div class="ui dropdown right top pointing">
                    <div class="sbt-guest-profile" aria-haspopup="true" aria-controls="overlaySidebarID"
                      aria-label="Guest User" tabindex="0" name="Guest"
                      (click)="toggleSideMenu(true)"><span class="user-avatar">{{userProfile?.firstName[0]}}</span></div>
                    <!-- <sb-avatar aria-haspopup="true" aria-controls="overlaySidebarID" *ngIf='!userProfile && guestUser'
                      tabindex="0" (click)="toggleSideMenu(true)" [config]=avatarConfig initialsSize="2"
                      [initial]="guestUser?.formatedName[0] || 'G'"
                      [attr.aria-label]="'Welcome ' + (guestUser?.formatedName || 'Guest') + ', ' + 'Click here to continue to your profile'"
                      [attr.title]="'Welcome ' + (guestUser?.formatedName || 'Guest') + ', ' + 'Click here to continue to your profile'">
                    </sb-avatar>
                    <sb-avatar aria-haspopup="true" aria-controls="overlaySidebarID" *ngIf='userProfile' tabindex="0"
                      (click)="toggleSideMenu(true)" [config]=avatarConfig initialsSize="2"
                      [initial]="userProfile?.firstName[0]"
                      title="'Welcome ' + userProfile?.firstName + ', ' + 'Click here to continue to your profile'"
                      [attr.title]="userProfile?.firstName">
                    </sb-avatar> -->
                  </div>
                </a>
              </ng-container>
              <!--/Avtar Dropdown-->
            </div>
          </div>
        </div>
      </div>
    </header>
    
  </div>
</div>
<section class="ui container mobile-only main-menu">
  <nav class="main-menu__wrap">
      <!-- menu -->
      <ng-container *ngIf="userService.loggedIn && !isAdminPortal">
        <div class="menu-trigger" [matMenuTriggerFor]="menu">
            <mat-icon class="menuIcon open">menu</mat-icon>
            <mat-icon class="close" >close</mat-icon>
            <span class="mx-10">Spaces</span>
        </div>
        <mat-menu #menu="matMenu" yPosition="above" [hasBackdrop]="false">
          <app-mega-menu (navigateToHome)="navigateToHomepage()"></app-mega-menu>
          <div class="menu-trigger__close" [matMenuTriggerFor]="menu">
            <mat-icon>cancel</mat-icon>
          </div>
        </mat-menu>
      </ng-container>
  </nav>
  <div class="right">
      <a *ngIf="userService.loggedIn" [routerLink]="['/resources']" class="header-icon__home mr-2">
        <mat-icon>home</mat-icon>
      </a>
      <!-- <a *ngIf="userService.loggedIn" class="header-icon__notification mr-2">
        <mat-icon>notifications</mat-icon>
      </a> -->
      <a class="profile-avtar p-0 mr-8">
        <app-in-app-notification *ngIf="userService?.loggedIn" [layoutConfiguration]="layoutConfiguration">
        </app-in-app-notification>
      </a>
      <div class="main-menu__lang">
        <app-language-dropdown [layoutConfiguration]="layoutConfiguration" [languageRange]='languages'
          *ngIf=" isLanguageDropdown && languages && showLanguageDropdown()">
        </app-language-dropdown>
  </div>
  </div>
</section>
